{% extends "base.html" %}

{% block title %}Herramienta de Predicción{% endblock %}

{% block content %}
<style>
    .form-container { max-width: 700px; margin: auto; }
    form { background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, select { width: 100%; padding: 10px; margin-top: 5px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box; }
    button { width: 100%; padding: 12px; margin-top: 20px; background-color: #28a745; color: white; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; }
    .results { margin-top: 30px; background-color: #e9ecef; padding: 20px; border-radius: 8px; }
    .results li { list-style-type: none; padding: 5px 0; }
</style>

<div class="form-container">
    <h1>Herramienta de Predicción de Crímenes</h1>
    <form method="POST">
        <h2>Introduce los detalles del incidente:</h2>
        
        <label for="latitude">Latitud (ej: 40.7128)</label>
        <input type="number" step="any" id="latitude" name="latitude" required>

        <label for="longitude">Longitud (ej: -74.0060)</label>
        <input type="number" step="any" id="longitude" name="longitude" required>

        <label for="hour">Hora del Día (0-23)</label>
        <input type="number" id="hour" name="hour" min="0" max="23" required>

        <label for="day_of_week">Día de la Semana</label>
        <select id="day_of_week" name="day_of_week">
            <option value="0">Lunes</option>
            <option value="1">Martes</option>
            <option value="2">Miércoles</option>
            <option value="3">Jueves</option>
            <option value="4">Viernes</option>
            <option value="5">Sábado</option>
            <option value="6">Domingo</option>
        </select>

        <label for="month">Mes</label>
        <input type="number" id="month" name="month" min="1" max="12" required>
        
        <button type="submit">Predecir Tipo de Crimen</button>
    </form>

    {% if predictions %}
    <div class="results">
        <h2>Resultados de la Predicción:</h2>
        <ul>
            {% for p in predictions %}
                <li><strong>{{ p.crime }}</strong>: {{ p.probability }}% de probabilidad</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}